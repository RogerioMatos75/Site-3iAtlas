<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sinal do Atlas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="styles-new-elements.css">
</head>
<body>
    <div class="main-container">
        <div id="terminal-left" class="terminal">
            <div class="terminal-header">
                <span class="terminal-title">PULSO 31/ATLAS</span>
                <span class="terminal-status-light"></span>
            </div>

            <div class="data-grid-container">
                <div class="data-grid">
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                </div>
            </div>

            <pre id="terminal-text-area" class="terminal-text"></pre>

            <div class="status-indicators">
                <div class="status-indicator">
                    <div class="indicator-dot active"></div>
                    <span class="indicator-label">SYNC</span>
                </div>
                <div class="status-indicator">
                    <div class="indicator-dot"></div>
                    <span class="indicator-label">LOCK</span>
                </div>
                <div class="status-indicator">
                    <div class="indicator-dot active"></div>
                    <span class="indicator-label">LINK</span>
                </div>
            </div>

            <div id="hud-pulse-folders" class="hud-pulse-folders">
                <!-- As pastas serão renderizadas dinamicamente aqui pelo script.js -->
            </div>
        </div>
        <div id="scene-container">
            <div id="hud-overlay" class="hud-overlay">
                <!-- Corner Decorative Elements -->
                <div class="hud-corner top-left"></div>
                <div class="hud-corner top-right"></div>
                <div class="hud-corner bottom-left"></div>
                <div class="hud-corner bottom-right"></div>

                <!-- Top Panel -->
                <div class="hud-top-panel">
                    <div class="top-panel-left">
                        <span class="panel-label">TECHNOLOGY INTERFACE</span>
                    </div>
                    <div class="top-panel-right">
                        <div class="signal-bar-small"></div>
                        <span class="signal-value">█ █ █ █ █ █</span>
                    </div>
                </div>

                <!-- Main Content Area -->
                <canvas id="hud-radar" class="hud-radar-canvas"></canvas>

                <!-- Left Side HUD -->
                <div class="hud-left-side">
                    <div id="hud-signal" class="hud-signal" aria-hidden="true"></div>
                    <div class="spacer-h"></div>
                    <div class="circular-indicators">
                        <div class="indicator-circle"></div>
                        <div class="indicator-circle"></div>
                        <div class="indicator-circle"></div>
                    </div>
                </div>

                <!-- Right Side HUD -->
                <div class="hud-right-side">
                    <div class="data-matrix">
                        <div class="matrix-cell"></div>
                        <div class="matrix-cell"></div>
                        <div class="matrix-cell"></div>
                        <div class="matrix-cell"></div>
                        <div class="matrix-cell"></div>
                        <div class="matrix-cell"></div>
                    </div>
                    <div class="spacer-h"></div>
                    <div id="hud-eq" class="hud-eq" aria-hidden="true"></div>
                </div>

                <!-- Bottom Panel -->
                <div class="hud-bottom-panel">
                    <div class="spectrum-small">
                        <div class="spec-bar"></div>
                        <div class="spec-bar"></div>
                        <div class="spec-bar"></div>
                        <div class="spec-bar"></div>
                        <div class="spec-bar"></div>
                        <div class="spec-bar"></div>
                        <div class="spec-bar"></div>
                        <div class="spec-bar"></div>
                    </div>
                    <div class="spectrum-label">PULSE SIGNAL</div>
                </div>

                <div id="hud-alerts" class="hud-alerts" aria-live="polite"></div>
            </div>
        </div>
                <div id="right-column" class="terminal">
            <div class="right-column-header">
                <span class="right-title">INTERFACE TECNOLÓGICA</span>
                <div class="header-meters">
                    <div class="meter-small">
                        <div class="meter-bar" style="width: 75%;"></div>
                    </div>
                    <span class="meter-value">73%</span>
                </div>
            </div>

            <div class="visualizer-container">
                <div class="waveform-display">
                    <canvas id="waveform-canvas" width="100%" height="80"></canvas>
                </div>

                <div class="spectrum-display">
                    <div id="spectrum-bars" class="spectrum-bars"></div>
                </div>
            </div>

            <div id="terminal-right-display" class="terminal-display-content"></div>

            <div class="gauges-row">
                <div class="gauge-container">
                    <canvas id="gauge-1" class="gauge-canvas"></canvas>
                    <span class="gauge-label">FREQ</span>
                </div>
                <div class="gauge-container">
                    <canvas id="gauge-2" class="gauge-canvas"></canvas>
                    <span class="gauge-label">PWR</span>
                </div>
                <div class="gauge-container">
                    <canvas id="gauge-3" class="gauge-canvas"></canvas>
                    <span class="gauge-label">AMP</span>
                </div>
            </div>

            <div id="atlas-chat" class="atlas-chat-panel">
                <div id="atlas-messages" class="atlas-messages"></div>
                <div class="atlas-input-row">
                    <input type="text" id="atlas-input" class="atlas-input">
                </div>
            </div>
            <div id="interceptor-panel" class="interceptor-panel">
                <h4 class="interceptor-title">INTERCEPTADOR DE SINAIS</h4>
                <div class="interceptor-input-row">
                    <input type="text" id="interceptor-input" class="interceptor-input" placeholder="Cole uma URL para interceptar...">
                    <button id="interceptor-button" class="interceptor-button">Interceptar</button>
                </div>
                <div id="interceptor-status" class="interceptor-status"></div>
            </div>
            <div class="terminal-controls-row">
                <div id="countdown"></div>
                <a href="/hq" id="open-hq-btn" class="terminal-open-button">ACESSAR HQ</a>
                <button id="open-terminal-btn" class="terminal-open-button">ABRIR TERMINAL</button>
            </div>
        </div>
    </div>

    <dialog id="pulse-modal" class="atlas-modal">
        <div class="atlas-modal-content">
            <div class="atlas-modal-header">
                <h3 id="pulse-modal-title">PULSO 31/ATLAS</h3>
                <button id="pulse-modal-close" class="atlas-modal-close" aria-label="Fechar">×</button>
            </div>
            <div class="atlas-modal-body">
                <p class="atlas-modal-instructions">
                    Arquivo de manifesto recuperado do pulso.
                </p>
                <div id="pulse-file-status" class="atlas-modal-status"></div>
                <pre id="pulse-file-content" class="atlas-modal-pre"></pre>
            </div>
        </div>
    </dialog>

    <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
    <script src="script.js"></script>

    <!-- Biblioteca 3D Three.js -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.164.1/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.164.1/examples/jsm/"
            }
        }
    </script>
    <script type="module" src="scene.js"></script>

    <!-- Modal do Sinal Wow! -->
    <div id="wow-signal-modal" class="terminal-modal hidden">
        <div class="terminal-modal-content">
            <button id="close-wow-signal-btn" class="terminal-modal-close" aria-label="Fechar">×</button>
            <video id="wow-signal-video" src="docs/wow_signal.mp4" controls></video>
        </div>
    </div>

    <!-- Modal do Terminal -->
    <div id="terminal-modal-container" class="terminal-modal hidden">
        <div class="terminal-modal-content">
            <button id="close-terminal-btn" class="terminal-modal-close" aria-label="Fechar">×</button>
            <iframe id="terminal-iframe" src="vm-alien/index.html" title="Terminal 3I/Atlas"></iframe>
        </div>
    </div>
</body>
</html>
